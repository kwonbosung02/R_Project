## Big Data

### 빅데이터와 통계 - 1문제

+ small Data
  + 서베이 데이터 수준 또는 간단한 정형 데이터
  + 일 또는 월 단위  발생되는 데이터
  + 300~10만 건의 record로 구성
  + 샘플링 된 데이터로 통계적 지식 및 처리 필요
  + 국내에서는 1999년 이전 주로 활용
  + 데이터에 대한 가설이 있음(정규성 독립성 등)
  + 통계 분석 전문 소프트웨어로 처리 가능
+ VLDB (Very Large Data)
  + CRM(고객관계관리) 등에서 고객별로 수년간의 거래 정보와 유사
  + 300~1500만 고객이 하루에도 여러 건 정형 데이터 발생, 1~3년간의 거래정보 다룸
  + 예측에 주로 활용
  + 국내에서 1999~2012
  + DBMS에서 SQL활용, OLAP도구 사용, 데이터 마이닝 기법, 엑셀 처리 불가
  + 파티션 분리
+ Big Data
  + IT 발전으로 규모가 큰 TB 이상의 규모, 1천만 ~ 수십억 건의 3 ~ 10년 비정형 데이터 활용
  + 정형 데이터 + 비정형 데이터 (Log 성 데이터, 텍스트,사운드, 이미지)
  + 분석 -> 서비스로의 확장
  + 국내 2013 ~ 현재까지 각광 받고 있다
+ 빅데이터 특징 4V
  + Volume :
    + 정형 데이터와 비정형 데이터 다룸 -> 크기 증가
    + 보다 빠른 처리 능력 요구 -> 기술적인 발전의 기반으로 가능
  + Variety:
    + 다양한 소스에서 입수덴 데이터
    + 정형, 비정형 데이터
    + 기업의 내부 데이터의 다양성, 외부 수집 데이터로 다양해짐
  + Velocity:
    + 데이터 처리속도 빠름
    + 수많은 데이터 매우 빠르게 발생
    + 소셜 미디어 다수 사람 데이터 생성 -> 준 실시간 처리
  + Value:
    + 상대적으로 매우 중요한 요소
    + 전통적으로 분석을 통한 Insight에서 실행 통한 기업 및 고객의 가치 창출 가능
    + 서비스 제공에 활용 증대
    + 만족도 증대, 비용 절감, 수익 증대, 신규 사업 진출로 가치 발생
+ 비정형 데이터
  + Log  :  이산형/연속형, 웹로그, 머신로그, 계량기
  + Text :  소셜미디어, 콜센터 통화 음성을 텍스트로 변환
  + Sound :  일상 생활에서의 데이터, 진동 및 소리
  + Image :  사진, 얼굴 표정
  + Video :  CCTV 
+ 빅데이터 활용 접근 방법
  + 데이터화 시킬 수 있는 항목 파악
  + 활용할 수 있는 방안 고민 및 리서치
  + 분석 통한 팩트 및 패턴 파악
  + 데이터 마이닝 적용 통한 패턴파악 자동화
  + 서비스 적용

### 가설검정 - 4문제

+ 가설 : 모집단의 특성 및 가정 혹은 잠정적인 결론
  + 귀무가설 : 대립가설과 반대되는 가설, 현재까지 주장되어 온 것이거나 기존과 비교하여 변화 혹은 차이가 없음을 나타내는 가설
  + 대립가설 : 표본을 통해 확실한 근거를 가지고 입증하고자 하는 가설로서 연구 가설 이라고도 한다
  + 성별에 따른 행복 지수는 차이가 없다 (귀무가설)
  + 성별에 따른 행복 지수는 차이가 있다 (대립가설)
+ 유의 수준 : 제 1종 오류를 범할 최대 허용치 (제 1종 오류 : 귀무가설이 진실임에도 불구하고 기각할 오류)
  + 통계학적으로 유의 수준을 보통 0.05, 0.01, 0.001중 하나 채택
  + 5%, 1%, 0.1% 이하로 작으면 그 일은 일어나지 않는다
  + 귀무가설이 맞다는 전제하에서 내가 구한 자료가 맞을 가능성이 5%이하이면 그 귀무가설은 기각하고 대립가설 채택
+ 유의확률(p) : 귀무가설이 참인데도 불구하고 이를 기각할 확률, 잘못된 의사결정을 할 확률
  + 따라서 유의 수준을 0.05로 정했다면 p가 0.05보다 적게 나와야 하며, 대립가설을 채택할 수 있음
+ 가설 채택 여부 결정
  + p값과 유의 수준을 바교하여 귀무가설 혹은 대립가설 채택하는 절차를 거친다
  + p값은 귀무가설이 참이라는 전재에서 검정 통계량의 값이 나타날 가능성으로 해석할 수 있다
  + p값이 유의수준보다 작으면 (즉, 검정 통계량의 값이 나타날 가능성이 작으면) 귀무가설을 기각하고, 대립가설 채택
+ boxplot
  + 최소값(맨 밑선)
  + 사각형 밑변(1사분위수)
  + 굵은선(중위수)
  + 사각형 위선(3사분위수)
  + 최대값(가로선 : 이상치가 빠졌을 떄의 최대치)
+ 통계적 분석 기반 빅데이터 분석 모델
  + 빈도분석
    + 숫자를 세고, 퍼센트 내보는 것
    + 가장 기초적인 분석 방법 , freq
  + 상관분석
    + 두 개 이상의 변수 간에 존재하는 상호 연관성의 정도 즉, 하나의 변수가 다른 변수와 어떤 밀접성 가지고 변화하는가 측정 cor
    + 수치적 데이터 변수로 이루어진 두 변수 간의 선형적 연관성을 계량적으로 파악하기 위한 통계적 기법
    + 일반적으로 피어슨 상관분성을 선형 관련성 정도로 측정하는 척도로 사용
    + 상관 계수는 -1.00에서 1.00  사이, 0에 가까울 수록 상관이 낮음
    + 절대값 1에 가까울 수록 높음
  + 카이제곱 검정 (교차 분석)
    + 항목들은 분류하기 위한 범주형 데이터 변수들로 이루어진 두 변수간의 연관성을 계량적으로 파악하기 위한 통계적 기법
    + 발생 빈도를 기반으로 범주형 데이터 변수간의 연관성을 추론하기 위한 방법
    + 집단에 따라서 해당되는 사람의 비율에 차이가 있는지를 알아보기 위해 사용
      + 예: 학년에 따른 규칙적 식사 여부의 차이 chisq
    + 어떤 특성의 비율이 집단에 따라서 다른지 검증할 때 적용
  + 독립 표본 T 검정
    + 두 집단의 평균에 통계적으로 유의한 차이가 있는지 알아볼 때 사용
    + 볌주형 자료에 따른 연속형 자료의 차이를 볼 때 사용, 자료의 집단이 두개 
    + 예: 성별에 따라 A사 커피 브랜드의 만족도가 차이가 있는가?
    + 성별이라는 범주형 자료에 따라서 만족도라는 연속형 자료 확인
    + 두 집단간의 어떤 특성의 평균의 값에서 차이가 있는지 검증할 때 적용

### 설문지와 코딩하기

+ 측정 도구
  + 척도 : 진술 또는 질문 사항
  + 질적 척도 : 가장 기본적인 구성, 예 : 성별, 키, 직업, 종교
  + 양적 척도 : 각 항목의 단순 합산 통해 서열 산출, 1~5점
+ 신뢰도 : 일관성
+ 타당도 : 실증적 척도가 고려중인 개념에 대한 실질적 의미를 충분히 반영하는 정도
+ 일반적으로 조사도구가 측정하고자 의도하였던 것을 측정할 때 그 조사도구는 타당성이 있다고 말함
+ 질문 항목의 내용
  1. 사실에 관한 질문
  2. 행태에 관한 질문
  3. 의견이나 태도에 관한 질문
  4. 지식에 관한 질문

### R언어 1

+ 설치 : www.r-project.org
+ CRAN Mirrors : r 프로젝트에서 관리하고 있는 모든 소스 파일들과 그 밖에 패키지 파일들을 분산해서 관리하고 있는 웹페이지 주소

### R언어 2

+ 스크립트 창 -> 명령어 입력 후 콘솔창에 붙어넣기
+ 명령어 입력 후 f5 or ctrl+R
+ #(주석), ;(세미콜론) 하나의 명령어 끝남을 알려줌
+ ctrl+R : R의 명령어 실행
+ Shift + Enter :  동일한 위치에 다른 Argument를 올 수 있도록 해줌
+ 명령어가 길게 표현되는 거 방지
+ 논리 연산자

  + 두개이상의 조거너 비교
  + &&,& , ||, |
  + 벡터가 오면 &와 &&, |와 ||의 결과에는  차이가 있다
+ NA : Not Available의 약자로서 결측치를 의미
+ NAN : Not available Number의 약자로 계산 불가능 수
+ Inf,-Inf : 무한대
+ mode()

  + 문자형 형태로 최종적인 결과 알려줌 (변수의 자료형)
+ is

  + is.numeric(x1) 이런식으로 사용, 결과 = TRUE, FALSE
+ 데이터 우선 순위 (문자형, 복소수형, 수치형, 논리형)
+ 유형이 다른 벡터가 함께 있으면 정보 많이 가지고 있는 쪽으로 변환 (Coerce)

+ 백터
  + R은 데이터가 어떤 구조 또는 어떤 형태로 되어있느냐에 따라 백터, 행렬, 배열, 데이터 프레임, 요인, 리스트 등으로 구분
  + 백터는 동일한 데이터 유형으로 이루어진 한 개 이상의 값들로 구성
  + 하나의 열로 되어있다
  + 데이터 분석의 가장 기본 단위
  + 하나의 백터 s1 <- "1" 이런식으로 생성
  + 두개이상의 백터 `c(), :, seq(), rep()`
+ c()
  + combine, concatenate
  + 백터 생성 기본적인 방법
  + 네가지 자료 유형에 적용 가능
  + 규칙이 없는 데이터로 이루어진 데이터 생성에 사용
  + ex :v1 <= c(3,10,12)
+ :
  + 수치형에만 적용
  + 1씩 증가 혹은 감소되는 규칙적인 베겉 생성시 사용
+ seq()
  + 콜론 의 확장 또는 일반화
  + seq(from, to, by)
+ Rep ()
  + replicate
  + 4개 자료구조 모두 가능 rep("a",times=5) 이런식으로 사용
+ names() : 벡터에 대한 이름 부여할 때 사용
+ 벡터의 인덱싱 
  + 일부 원소 추출할 때 대괄호 사용
  + 원소의 위치 인덱스 입력
  + 백터 시작 번호 = 1
  + 변수[3], 변수[c(1,3,4)// 1번3번4번 표시, -c는 특정 번호 제외
+ 벡터로 연산하기
  + c(1,2,3) + c(4,5,6) = 5,7,9
  + c(1,2,3) + 1 = 2,3,4
  + union(var1,var2) = 1,2,3,4,5,6 이어진다
  + setdiff(var1,var2) -> var2에 없는 var1요소 찾는다
  + intersect(var1,var2) -> 공통요소 찾는다

### R언어 3

+ factor 
  + 백터의 한 종류
  + 1차원 형태로 되어있다
  + 벡터와 달리 범주형 자료로 인식
  + 주로 집단별로 자료를 분석하고자 할 떄에 특정 자료를 범주형 자료로 변경해준다

+ 행렬 (matrix)
  + 데이터의 형태가 2차원으로 구성
  + 벡터의 확장
  + 하나의 데이터 유형만 가능
  + rbind() : 벡터를 행 방향으로 합친다
  + cbind() : 벡터를 열 방향으로 합친다
  + matrix() : 행열을 생성
+ 리스트
  + 벡터, 요인, 행렬, 배열, 데이터 프레임, 리스트 자체까지 원소로 가질 수 있다
  + 리스트 구조로 데이터 저장하여 분석
+ 데이터 프레임
  + R의 대표적인 데이터 형태
  + 2차원 구조로 행렬처럼 행과 열로 구성
  + 행렬은 하나의 데이터 유형, 데이터 프레임은 여러가지 데이터 유형
  + 일반적으로 R에서 데이터 분석할때 데이터 프레임 형태, 데이터 프레임에서 하나의 열은 벡터처럼 하나의 데이터 유형
  + 외부 데이터 읽어오면 데이터 프레임이된다
  + view(df) : 데이터 프레임 보여줌
  + nrow(df) : 행 개수 알려줌
  + ncol(df) : 열 개수 알려줌
  + rownames(df) : 행 이름
  + colnames(df) : 열 이름
  + table(df$gender) : 범주형 변수의 요약
  + prop.table(table(df$gender))*100 : 범주형 변수 백분율 요약
  + dim(df) : 행열 개수
  + names(df) = c("r1","r2","r3","r4","r5") : 각 변수의 이름 지정
  + apply(df2[,c(2,4)],2,mean) -> df2 2열과 4열의 평균
  + apply(df2[,c(2,4)],2,sum) -> df2 2열과 4열의 합
  + subset(df2,gender=="m" & height > 170) -> 저건 조회
  + aggregate(age~gender,df2,mean) -> 성별 평균 나이
  + summary(df2) -> df2의 기초 통계량 [최소값, 1사분위수, 중앙값, 평균, 3사분위수,최대값]
  + str() -> 각 항목별 정보 요약
+ 행렬의 활용
  + install.packages("pixmap")
  + library(pixmap)
+ 데이터 셋
  + library(help=datasets)

### R언어 4

+ read.table(file,header=False,sep="",stringsAsFactor=FALSE)
  + file : 파일이 위치한 경로
  + header : 파일의 첫머리에 변수가 있느냐 없느냐 확인
  + sep : 데이터와 데이터를 어떠한 특수 문자로 구분하고 있는가
  + stringsAsFactor : 문자열을 factor로 바꿀건지 여부
+ head(a,n=10) : 머리쪽 10줄
+ tail(A) : 마지막 5개
+ tail(A,n = 10) : 마지막 10개
+ 외부파일쓰기
  + A <- write.table(USArrests,file="US.csv",sep=",",row.names = F,col.names=TRUE)
+ 파일 읽은 후 옵션
  + names(demog) <- c("year","cdr","tfr","marn","leo")
  + demog <- demog[-1] : 행 빼기
  + rownames(demog) <- NULL : 행 머리글 빼기
  + demog$year_n1 <- as.numeric(demog$year)

### R언어 5

+ 연속형 범주 -> 범주형 변수 전환 ( 이 범주의 분포가 어떻게 되어있는지 알기 쉽다)

+ sdemog$year_c3 = cut(sdemog$year,breaks= c(1969,1980,1990,2000,2010,2020)), include.lowest= TRUE, right = FALSE, labels= c("1970s","1980s","1990s",2000s","2010s"))

+ 기초 통계값 구하기 위해 summary() 사용 

+ 최소값, 첫 번째 사분위수, 중간값, 평균값, 세번째 사분위수, 최대값 

+ 범주형 변수의 분포를 볼때 적합한 함수 = table() ,table(sdemog$tfr_c,useNA="ifany")

+ prop.table()로 감싸면 전체 백분율, prop.table( , margin=1) 행 백분율

+ quantile(sdemog$leo,na.rm=TRUE) ->  기대 수명의 비율,na.rm = 결측값 처리 옵션

+ mean(sdemog$leo,na.rm=TRUE) ->  기대 수명의 평균\

+ sd(sdemog$leo,na.rm=TRUE) -> 표준편차

+ var(sdemog$leo,na.rm=TRUE) -> 분산

+ tapply(sdemog$leo, sdemog$year_c3, mean, na.rm=TRUE )

  + 첫번쨰는 분포를 보고자 하는 변수, 두번째는 집단을 나타내는 변수

+ 양적변수와 양적변수인 경우는 두 변수의 연관관계를 볼 떄 상관계수를 본다 cor

  + 상관계수는 -1에서 1사이, 절대값이 1에 가까울 수록 연관성이 크다

+ 그래프

  + 한 변수의 분포를 보는 그래프

  + 두 변수 사이의 관계를 살펴보는 그래프

  + 질적변수는 막대그래프, 양적 변수는 히스토그램

  + 막대그래프 -> barplot

  + barplot(table(sdemog$tfr_c), ylim=c(0,20), col=1:3, xlab="Categorical TFRs", ylab="Frequencies", names.arg=c("Lowest-low", "Replacement", "High"), main="Frequencies of Categorical TFRs") 

  + ylim : y의 값, col : 색상, xlab : x축 이름, ylab : y축 이름, names.arg : 범주의 이름, main : 제목의 이름

  + boxplot 중 beside=TRUE는 bar를 옆으로 그려준다

  + text(bp,pos=3,c("lif","repl","high"),cex=0.7)

    + bp 그래프에 x 축값 3 위치에 0.7 글자크기로 글씨를 적는다

  + 히스토그램 -> hist

  + hist(sdemog$leo, main="", ylab="Frequency", xlab="Life expectancy at birth",

    breaks=c(60+0:9*3), xaxt="n") 

  + axis(side=1,at=c(60+ 0:9 *3)) -> 쪼갠다 

  + plot(sdemog$year,sdemog$tfr,type="l") : l 들어가면 라인, 안들어가면 점

### R언어 6

시험에 포함되지 않음

### R언어 7

산점도 회귀직선 기리기 lm

+ lm(formula,data,...)
+ 매개변수 formula y~x로 설정하며 y = b0 +b1x의 기울기와 절편을 얻음

```R
BMI <- read.table("BMI.txt",col.names=c("height","weight","year"))
lm(height~weight,data = BMI)
    (Intercept)      weight 
     135.6921       0.4938 
y = 0.49 * x + 135.69로 산점도를 설명하는 직선을 얻음
```

+ 독립변수 -> 어떤 효과를 관찰하기 위해 실험적으로 조작되거나 혹은 통제된 변수
+ 종속변수 -> 다른 변수에 의해 영향을 받는 변수
+ 예: 교통사고 통계 측정에서 속도제한은 독립변수, 교통사고는 종속변수
+ 회귀분석은 종속변수 y를 다른 변수들 x 등으로 설명하는 자료분석 방법